import{_ as a,c as i,o as t,ae as e}from"./chunks/framework.B4YfsRs4.js";const c=JSON.parse('{"title":"openWindow","description":"","frontmatter":{},"headers":[],"relativePath":"utils/window.md","filePath":"utils/window.md"}'),n={name:"utils/window.md"};function o(d,s,l,h,p,r){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="openwindow" tabindex="-1">openWindow <a class="header-anchor" href="#openwindow" aria-label="Permalink to &quot;openWindow&quot;">​</a></h1><p>在新窗口或指定目标中安全地打开 URL，支持配置 <code>noopener</code> 和 <code>noreferrer</code> 等安全特性。</p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用默认选项打开链接（_blank + noopener + noreferrer）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自定义选项</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  noopener: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  noreferrer: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;_blank&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在当前窗口打开</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/dashboard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;_self&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在父级框架中打开</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/external&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;_parent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td><code>url</code></td><td>要打开的 URL 地址</td><td><code>string</code></td><td>-</td><td>-</td></tr><tr><td><code>options</code></td><td>窗口打开选项</td><td><code>OpenWindowOptions</code></td><td>-</td><td><code>{}</code></td></tr></tbody></table><h3 id="openwindowoptions-接口" tabindex="-1"><code>OpenWindowOptions</code> 接口 <a class="header-anchor" href="#openwindowoptions-接口" aria-label="Permalink to &quot;\`OpenWindowOptions\` 接口&quot;">​</a></h3><table tabindex="0"><thead><tr><th>属性</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td><code>noopener</code></td><td>是否启用 <code>noopener</code> 安全策略（防止新页面访问 <code>window.opener</code>）</td><td><code>boolean</code></td><td><code>true</code></td></tr><tr><td><code>noreferrer</code></td><td>是否启用 <code>noreferrer</code> 策略（不发送 referrer 信息）</td><td><code>boolean</code></td><td><code>true</code></td></tr><tr><td><code>target</code></td><td>目标窗口名称</td><td><code>&quot;_blank&quot; | &quot;_parent&quot; | &quot;_self&quot; | &quot;_top&quot; | string</code></td><td><code>&quot;_blank&quot;</code></td></tr></tbody></table><h2 id="返回值" tabindex="-1">返回值 <a class="header-anchor" href="#返回值" aria-label="Permalink to &quot;返回值&quot;">​</a></h2><p><code>void</code></p><h2 id="安全特性" tabindex="-1">安全特性 <a class="header-anchor" href="#安全特性" aria-label="Permalink to &quot;安全特性&quot;">​</a></h2><ul><li><strong>默认启用 <code>noopener</code></strong>：防止新页面通过 <code>window.opener</code> 访问原页面，避免反向钓鱼攻击</li><li><strong>默认启用 <code>noreferrer</code></strong>：提升隐私保护，不泄露来源信息</li></ul><blockquote><p>强烈建议保留 <code>noopener</code> 和 <code>noreferrer</code> 为 <code>true</code>，除非有特殊需求。</p></blockquote><hr><h1 id="openrouteinnewwindow" tabindex="-1">openRouteInNewWindow <a class="header-anchor" href="#openrouteinnewwindow" aria-label="Permalink to &quot;openRouteInNewWindow&quot;">​</a></h1><p>在新窗口中打开当前应用的内部路由路径，自动处理哈希路由（如 Vue Router 的 hash 模式）和基础 URL。</p><h2 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打开 /home 路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openRouteInNewWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打开相对路径（自动补全斜杠）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openRouteInNewWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 等效于 &#39;/about&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在 hash 模式下正确生成 URL</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当前地址: https://app.com/#/dashboard</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用: openRouteInNewWindow(&#39;/settings&#39;)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 结果: https://app.com/#/settings</span></span></code></pre></div><h2 id="参数-1" tabindex="-1">参数 <a class="header-anchor" href="#参数-1" aria-label="Permalink to &quot;参数&quot;">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td><code>path</code></td><td>应用内部的路由路径</td><td><code>string</code></td><td>-</td><td>-</td></tr></tbody></table><h2 id="返回值-1" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-1" aria-label="Permalink to &quot;返回值&quot;">​</a></h2><p><code>void</code></p><h2 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-label="Permalink to &quot;特性&quot;">​</a></h2><ul><li><strong>自动拼接完整 URL</strong>：基于 <code>location.origin</code> 构建绝对地址</li><li><strong>兼容哈希路由</strong>：智能判断是否需要插入 <code>/#</code></li><li><strong>路径标准化</strong>：自动为非 <code>/</code> 开头的路径添加前导斜杠</li><li><strong>零依赖</strong>：仅使用浏览器原生 API</li></ul><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><ul><li>在管理后台中“在新标签页中打开详情页”</li><li>多页面协作时跳转内部模块</li><li>需要保留用户登录状态的新窗口跳转</li></ul><blockquote><p>此函数专为 SPA（单页应用）设计，确保新窗口能正确加载同一应用的路由。</p></blockquote>`,27)]))}const E=a(n,[["render",o]]);export{c as __pageData,E as default};
